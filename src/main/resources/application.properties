# Configuration file
# key = value

# HTTP port - uses PORT environment variable for Render deployment
quarkus.http.port=${PORT:8080}

# WebSocket configuration
# WebSocket (Jakarta / legado)
quarkus.websocket.max-frame-size=16777215

# Servidor HTTP (Vert.x) para WebSocket
quarkus.http.websocket-server.max-frame-size=16777215
quarkus.http.websocket-server.max-message-size=16777215
# Aumentar limite de frame WebSocket
quarkus.websocket.max-frame-size=10048576
quarkus.websocket.dispatch-to-worker=true

# Configurações específicas do Undertow (servidor padrão do Quarkus)
quarkus.undertow.websockets.buffer-size=10048576
quarkus.undertow.websockets.direct-buffers=true
quarkus.undertow.websockets.worker-io-threads=8

# Configurações de buffer HTTP também podem ajudar
quarkus.http.limits.max-body-size=10M
quarkus.http.body.handle-file-uploads=true
# Remova: não afeta WebSocket
# quarkus.http.limits.max-frame-size=16777215

# CORS configuration for development
quarkus.http.cors=true
quarkus.http.cors.origins=*
quarkus.http.cors.headers=*
quarkus.http.cors.methods=*

# Logging - Logs desabilitados para produção
# quarkus.log.level=INFO
# quarkus.log.category."com.desenho".level=DEBUG
quarkus.log.level=WARN
quarkus.log.category."com.desenho".level=WARN

# Development mode
%dev.quarkus.log.console.enable=true

# Production configuration
%prod.quarkus.log.console.enable=false
# %prod.quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
